{
  "hash": "cd276d1667c126056c21bbf0da2ba6e1",
  "result": {
    "markdown": "---\ntitle: Making beautiful tables with the `gt` package\nauthor: Liam D. Bailey\ndate: '2020-11-27'\ndescription: \"OR: How I learnt to stop worrying and love the table\"\ncategories: [R]\nimage: \"featured.png\"\n---\n\n::: {.cell}\n\n:::\n\n\n## The dreaded table\n\n---\n\nI dread encountering a data table in an academic paper. A jumble of numbers, column sub-headers, and confusing footnotes, seemingly bereft of purpose. Why, I cry, is this not in the supplementary material?! Surely, I think, they could've created a graph! Despite my prejudice, the fact is that we often *do* need to use tables to present data. While a plot is a beautiful way to show trends or patterns, [it falls short if your goal is to compare individual values](https://themockup.blog/posts/2020-09-04-10-table-rules-in-r/). This year saw the release of the [`gt` package](https://github.com/rstudio/gt), a new addition to the growing number of packages that can produce publication quality tables in R. It seemed like as good a time as any to overcome my dread of tables. Here is my attempt.\n\n</br>\n\n## The data\n\n---\n\nAs a test case I decided to work with data on greenhouse gas emissions from aviation travel, recently published in [Our World in Data](https://ourworldindata.org/carbon-footprint-flying). Hannah Ritchie does a great job explaining the complexity of calculating per capita aviation emissions and I would highly recommend giving her article a read. For now, though, we'll side-step this complexity and focus on the simplest case, emissions from domestic travel. The map from Hannah's post clearly shows the range and disparity in emissions across the globe, but if we want to compare individual values between countries, or maybe within continents, such a map isn't the best option. How about a table? While the original post includes a basic table to compare emissions, I wanted to see whether I could create a table of my own using only R. A table that I might be happy to encounter in a publication.\n\n<iframe src=\"https://ourworldindata.org/grapher/per-capita-co2-domestic-aviation?stackMode=absolute&region=World\" loading=\"lazy\" style=\"width: 100%; height: 600px; border: 0px none;\"></iframe>\n\n</br>\n\n## The basics: Clean the data and add some context\n\n---\n\nWe'll need `dplyr` to tidy some of the data and `gt` to build our tables. `scales` will be used for creating colour palettes.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr)\nlibrary(scales)\nlibrary(gt)\npackageVersion(\"gt\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] '0.8.0'\n```\n:::\n:::\n\n\n`gt` integrates well into the existing `tidyverse`, and creating a `gt` table is as simple as two lines of code.\n\n**NOTE:** For this example we're just showing the worst emitters.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Load data and arrange in descending order of emissions\nemissions_data <- read.csv(here::here(\"posts/2020-11-27-making-beautiful-tables-with-gt/assets/per-capita-co2-domestic-aviation.csv\")) %>% \n  arrange(desc(Per.capita.domestic.aviation.CO2))\n\n#Generate a gt table from head of data\nhead(emissions_data) %>% \n  gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"acjrcaipga\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#acjrcaipga .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#acjrcaipga .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#acjrcaipga .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#acjrcaipga .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#acjrcaipga .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#acjrcaipga .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#acjrcaipga .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#acjrcaipga .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#acjrcaipga .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#acjrcaipga .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#acjrcaipga .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#acjrcaipga .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#acjrcaipga .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#acjrcaipga .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#acjrcaipga .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#acjrcaipga .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#acjrcaipga .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#acjrcaipga .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#acjrcaipga .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#acjrcaipga .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#acjrcaipga .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#acjrcaipga .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#acjrcaipga .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#acjrcaipga .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#acjrcaipga .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#acjrcaipga .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#acjrcaipga .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#acjrcaipga .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#acjrcaipga .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#acjrcaipga .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#acjrcaipga .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#acjrcaipga .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#acjrcaipga .gt_left {\n  text-align: left;\n}\n\n#acjrcaipga .gt_center {\n  text-align: center;\n}\n\n#acjrcaipga .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#acjrcaipga .gt_font_normal {\n  font-weight: normal;\n}\n\n#acjrcaipga .gt_font_bold {\n  font-weight: bold;\n}\n\n#acjrcaipga .gt_font_italic {\n  font-style: italic;\n}\n\n#acjrcaipga .gt_super {\n  font-size: 65%;\n}\n\n#acjrcaipga .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#acjrcaipga .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#acjrcaipga .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#acjrcaipga .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#acjrcaipga .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#acjrcaipga .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#acjrcaipga .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Entity\">Entity</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Code\">Code</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Per.capita.domestic.aviation.CO2\">Per.capita.domestic.aviation.CO2</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">United States</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">USA</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\">0.3855204</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">Australia</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">AUS</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\">0.2671672</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">Norway</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">NOR</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\">0.2092302</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">New Zealand</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">NZL</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\">0.1741885</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">Canada</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">CAN</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\">0.1682674</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">Japan</td>\n<td headers=\"Code\" class=\"gt_row gt_left\">JPN</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\">0.0739585</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nA table, yes, but not one you're likely to publish! To take our first steps towards table perfection we need to tidy up the data and add a title and data source. The reader needs to understand what's going on. While much of the tidying could be completed using `dplyr` before converting to a table I'll demonstrate how this could be achieved exclusively inside `gt`.\n\n**TIP:** Notice how we select columns using the generic `c()`. For larger, more complex data tidy-select functions like `starts_with()` or `contains()` may come in handy.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n(emissions_table <- head(emissions_data) %>% \n   gt() %>% \n   #Hide unwanted columns\n   cols_hide(columns = c(Code)) %>% \n   #Rename columns\n   cols_label(Entity = \"Country\",\n              Per.capita.domestic.aviation.CO2 = \"Per capita emissions (tonnes)\") %>% \n   #Add a table title\n   #Notice the `md` function allows us to write the title using markdown syntax (which allows HTML)\n   tab_header(title = md(\"Comparison of per capita CO<sub>2</sub> emissions from domestic aviation (2018)\")) %>% \n   #Add a data source footnote\n   tab_source_note(source_note = \"Data: Graver, Zhang, & Rutherford (2019) [via Our World in Data]\"))\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"hichrvwlnb\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#hichrvwlnb .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#hichrvwlnb .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#hichrvwlnb .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#hichrvwlnb .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#hichrvwlnb .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#hichrvwlnb .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hichrvwlnb .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#hichrvwlnb .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#hichrvwlnb .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#hichrvwlnb .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#hichrvwlnb .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#hichrvwlnb .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#hichrvwlnb .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#hichrvwlnb .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#hichrvwlnb .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#hichrvwlnb .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#hichrvwlnb .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#hichrvwlnb .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hichrvwlnb .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#hichrvwlnb .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#hichrvwlnb .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hichrvwlnb .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#hichrvwlnb .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#hichrvwlnb .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hichrvwlnb .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hichrvwlnb .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#hichrvwlnb .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#hichrvwlnb .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hichrvwlnb .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#hichrvwlnb .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hichrvwlnb .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#hichrvwlnb .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hichrvwlnb .gt_left {\n  text-align: left;\n}\n\n#hichrvwlnb .gt_center {\n  text-align: center;\n}\n\n#hichrvwlnb .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#hichrvwlnb .gt_font_normal {\n  font-weight: normal;\n}\n\n#hichrvwlnb .gt_font_bold {\n  font-weight: bold;\n}\n\n#hichrvwlnb .gt_font_italic {\n  font-style: italic;\n}\n\n#hichrvwlnb .gt_super {\n  font-size: 65%;\n}\n\n#hichrvwlnb .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#hichrvwlnb .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#hichrvwlnb .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#hichrvwlnb .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#hichrvwlnb .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#hichrvwlnb .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#hichrvwlnb .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  <thead class=\"gt_header\">\n    <tr>\n      <td colspan=\"2\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>Comparison of per capita CO<sub>2</sub> emissions from domestic aviation (2018)</td>\n    </tr>\n    \n  </thead>\n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Country\">Country</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Per capita emissions (tonnes)\">Per capita emissions (tonnes)</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">United States</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\">0.3855204</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">Australia</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\">0.2671672</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">Norway</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\">0.2092302</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">New Zealand</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\">0.1741885</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">Canada</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\">0.1682674</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">Japan</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\">0.0739585</td></tr>\n  </tbody>\n  <tfoot class=\"gt_sourcenotes\">\n    <tr>\n      <td class=\"gt_sourcenote\" colspan=\"2\">Data: Graver, Zhang, &amp; Rutherford (2019) [via Our World in Data]</td>\n    </tr>\n  </tfoot>\n  \n</table>\n</div>\n```\n:::\n:::\n\n\nA few lines of code and the table is already much better. To me there is still one issues that needs to be fixed before we've finished the basics. While it's technically correct to report emissions in tonnes I feel the data would be much more suitable in kilograms. For this we'll use `fmt_number()`.\n\n**TIP:** There are `fmt_xxx()` functions for many different data types, including `fmt_currency()` and `fmt_date()`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n(emissions_table <- emissions_table %>% \n   #Format numeric column. Use `scale_by` to divide by 1,000. (Note: we'll need to rename the column again)\n   fmt_number(columns = c(Per.capita.domestic.aviation.CO2),\n              scale_by = 1000) %>%\n   #Our second call to cols_label overwrites our first\n   cols_label(Per.capita.domestic.aviation.CO2 = \"Per capita emissions (kg)\"))\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"tlqcpkelsx\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#tlqcpkelsx .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#tlqcpkelsx .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#tlqcpkelsx .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#tlqcpkelsx .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#tlqcpkelsx .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#tlqcpkelsx .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#tlqcpkelsx .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#tlqcpkelsx .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#tlqcpkelsx .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#tlqcpkelsx .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#tlqcpkelsx .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#tlqcpkelsx .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#tlqcpkelsx .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#tlqcpkelsx .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#tlqcpkelsx .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#tlqcpkelsx .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#tlqcpkelsx .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#tlqcpkelsx .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tlqcpkelsx .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#tlqcpkelsx .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#tlqcpkelsx .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tlqcpkelsx .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#tlqcpkelsx .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#tlqcpkelsx .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#tlqcpkelsx .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tlqcpkelsx .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#tlqcpkelsx .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#tlqcpkelsx .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#tlqcpkelsx .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#tlqcpkelsx .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tlqcpkelsx .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#tlqcpkelsx .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tlqcpkelsx .gt_left {\n  text-align: left;\n}\n\n#tlqcpkelsx .gt_center {\n  text-align: center;\n}\n\n#tlqcpkelsx .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#tlqcpkelsx .gt_font_normal {\n  font-weight: normal;\n}\n\n#tlqcpkelsx .gt_font_bold {\n  font-weight: bold;\n}\n\n#tlqcpkelsx .gt_font_italic {\n  font-style: italic;\n}\n\n#tlqcpkelsx .gt_super {\n  font-size: 65%;\n}\n\n#tlqcpkelsx .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#tlqcpkelsx .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#tlqcpkelsx .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#tlqcpkelsx .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#tlqcpkelsx .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#tlqcpkelsx .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#tlqcpkelsx .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  <thead class=\"gt_header\">\n    <tr>\n      <td colspan=\"2\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>Comparison of per capita CO<sub>2</sub> emissions from domestic aviation (2018)</td>\n    </tr>\n    \n  </thead>\n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Country\">Country</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Per capita emissions (kg)\">Per capita emissions (kg)</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">United States</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\">385.52</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">Australia</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\">267.17</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">Norway</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\">209.23</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">New Zealand</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\">174.19</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">Canada</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\">168.27</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">Japan</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\">73.96</td></tr>\n  </tbody>\n  <tfoot class=\"gt_sourcenotes\">\n    <tr>\n      <td class=\"gt_sourcenote\" colspan=\"2\">Data: Graver, Zhang, &amp; Rutherford (2019) [via Our World in Data]</td>\n    </tr>\n  </tfoot>\n  \n</table>\n</div>\n```\n:::\n:::\n\n\n</br>\n\n## The touchup: Adding some style and colour\n\n---\n\nWe've got a working table, but it won't be winning any points for style. Our next step is to change the style of different cells to help the reader more clearly find the information they're after. For this we'll use the `tab_style()` function. The style choices here follow some of the '[Ten Guidelines for Better Tables](https://www.cambridge.org/core/journals/journal-of-benefit-cost-analysis/article/ten-guidelines-for-better-tables/74C6FD9FEB12038A52A95B9FBCA05A12)' from Jon Schwabish.\n\nFirstly, we need to more clearly distinguish between the column headers and the body of the table (and while we're at it, also the title!)\n\n\n::: {.cell}\n\n```{.r .cell-code}\n(emissions_table <- emissions_table %>% \n   #Apply new style to all column headers\n   tab_style(\n     locations = cells_column_labels(columns = everything()),\n     style     = list(\n       #Give a thick border below\n       cell_borders(sides = \"bottom\", weight = px(3)),\n       #Make text bold\n       cell_text(weight = \"bold\")\n     )\n   ) %>% \n   #Apply different style to the title\n   tab_style(\n     locations = cells_title(groups = \"title\"),\n     style     = list(\n       cell_text(weight = \"bold\", size = 24)\n     )\n   ))\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"zlpecampps\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#zlpecampps .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#zlpecampps .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#zlpecampps .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#zlpecampps .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#zlpecampps .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#zlpecampps .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zlpecampps .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#zlpecampps .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#zlpecampps .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#zlpecampps .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#zlpecampps .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#zlpecampps .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#zlpecampps .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#zlpecampps .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#zlpecampps .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#zlpecampps .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#zlpecampps .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#zlpecampps .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zlpecampps .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#zlpecampps .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#zlpecampps .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zlpecampps .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#zlpecampps .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#zlpecampps .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zlpecampps .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zlpecampps .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#zlpecampps .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#zlpecampps .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zlpecampps .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#zlpecampps .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zlpecampps .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#zlpecampps .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zlpecampps .gt_left {\n  text-align: left;\n}\n\n#zlpecampps .gt_center {\n  text-align: center;\n}\n\n#zlpecampps .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#zlpecampps .gt_font_normal {\n  font-weight: normal;\n}\n\n#zlpecampps .gt_font_bold {\n  font-weight: bold;\n}\n\n#zlpecampps .gt_font_italic {\n  font-style: italic;\n}\n\n#zlpecampps .gt_super {\n  font-size: 65%;\n}\n\n#zlpecampps .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#zlpecampps .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#zlpecampps .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#zlpecampps .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#zlpecampps .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#zlpecampps .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#zlpecampps .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  <thead class=\"gt_header\">\n    <tr>\n      <td colspan=\"2\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style=\"font-size: 24; font-weight: bold;\">Comparison of per capita CO<sub>2</sub> emissions from domestic aviation (2018)</td>\n    </tr>\n    \n  </thead>\n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: #000000; font-weight: bold;\" scope=\"col\" id=\"Country\">Country</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: #000000; font-weight: bold;\" scope=\"col\" id=\"Per capita emissions (kg)\">Per capita emissions (kg)</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">United States</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\">385.52</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">Australia</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\">267.17</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">Norway</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\">209.23</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">New Zealand</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\">174.19</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">Canada</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\">168.27</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">Japan</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\">73.96</td></tr>\n  </tbody>\n  <tfoot class=\"gt_sourcenotes\">\n    <tr>\n      <td class=\"gt_sourcenote\" colspan=\"2\">Data: Graver, Zhang, &amp; Rutherford (2019) [via Our World in Data]</td>\n    </tr>\n  </tfoot>\n  \n</table>\n</div>\n```\n:::\n:::\n\n\nAs our reader is interested in comparing emissions values between countries, we can add a heatmap to our cells to more clearly show the differences. This will require us to set a colour palette and apply a conditional colouring using `data_color()`. We'll use the same palette employed in Hannah Ritchie's map above.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Apply our palette explicitly across the full range of values so that the top countries are coloured correctly\nmin_CO2 <- min(emissions_data$Per.capita.domestic.aviation.CO2)\nmax_CO2 <- max(emissions_data$Per.capita.domestic.aviation.CO2)\nemissions_palette <- col_numeric(c(\"#FEF0D9\", \"#990000\"), domain = c(min_CO2, max_CO2), alpha = 0.75)\n\n(emissions_table <- emissions_table %>% \n    data_color(columns = c(Per.capita.domestic.aviation.CO2),\n               colors = emissions_palette))\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"xndvwkpmcy\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#xndvwkpmcy .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#xndvwkpmcy .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#xndvwkpmcy .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#xndvwkpmcy .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#xndvwkpmcy .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#xndvwkpmcy .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xndvwkpmcy .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#xndvwkpmcy .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#xndvwkpmcy .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#xndvwkpmcy .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#xndvwkpmcy .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#xndvwkpmcy .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#xndvwkpmcy .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#xndvwkpmcy .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#xndvwkpmcy .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#xndvwkpmcy .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#xndvwkpmcy .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#xndvwkpmcy .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xndvwkpmcy .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#xndvwkpmcy .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#xndvwkpmcy .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xndvwkpmcy .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#xndvwkpmcy .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#xndvwkpmcy .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xndvwkpmcy .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xndvwkpmcy .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#xndvwkpmcy .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#xndvwkpmcy .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xndvwkpmcy .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#xndvwkpmcy .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xndvwkpmcy .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#xndvwkpmcy .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xndvwkpmcy .gt_left {\n  text-align: left;\n}\n\n#xndvwkpmcy .gt_center {\n  text-align: center;\n}\n\n#xndvwkpmcy .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#xndvwkpmcy .gt_font_normal {\n  font-weight: normal;\n}\n\n#xndvwkpmcy .gt_font_bold {\n  font-weight: bold;\n}\n\n#xndvwkpmcy .gt_font_italic {\n  font-style: italic;\n}\n\n#xndvwkpmcy .gt_super {\n  font-size: 65%;\n}\n\n#xndvwkpmcy .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#xndvwkpmcy .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#xndvwkpmcy .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#xndvwkpmcy .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#xndvwkpmcy .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#xndvwkpmcy .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#xndvwkpmcy .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  <thead class=\"gt_header\">\n    <tr>\n      <td colspan=\"2\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style=\"font-size: 24; font-weight: bold;\">Comparison of per capita CO<sub>2</sub> emissions from domestic aviation (2018)</td>\n    </tr>\n    \n  </thead>\n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: #000000; font-weight: bold;\" scope=\"col\" id=\"Country\">Country</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: #000000; font-weight: bold;\" scope=\"col\" id=\"Per capita emissions (kg)\">Per capita emissions (kg)</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">United States</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #990000; color: #FFFFFF;\">385.52</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">Australia</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #C05C3F; color: #FFFFFF;\">267.17</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">Norway</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #D17C5E; color: #FFFFFF;\">209.23</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">New Zealand</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #DA8F72; color: #FFFFFF;\">174.19</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">Canada</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #DC9275; color: #000000;\">168.27</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">Japan</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #F1C6AC; color: #000000;\">73.96</td></tr>\n  </tbody>\n  <tfoot class=\"gt_sourcenotes\">\n    <tr>\n      <td class=\"gt_sourcenote\" colspan=\"2\">Data: Graver, Zhang, &amp; Rutherford (2019) [via Our World in Data]</td>\n    </tr>\n  </tfoot>\n  \n</table>\n</div>\n```\n:::\n:::\n\n\n</br>\n\n## The finer details: Table options\n\n---\n\nWe've added some colour and style, but if we really want to customise our table and tweak the fine details we need to start using the `opt_xxx()` and `tab_options()` functions. The `opt_xxx()` functions adjust specific elements of the table, while `tab_options()` is similar to the `theme()` function used with `ggplot2`. Below, we'll adjust the options to resemble tables from [fivethirtyeight](https://fivethirtyeight.com/) (working from Thomas Mock's [great blog](https://themockup.blog/posts/2020-09-26-functions-and-themes-for-gt-tables/)).\n\n\n::: {.cell}\n\n```{.r .cell-code}\n(emissions_table <- emissions_table %>% \n   #All column headers are capitalised\n   opt_all_caps() %>% \n   #Use the Chivo font\n   #Note the great 'google_font' function in 'gt' that removes the need to pre-load fonts\n   opt_table_font(\n     font = list(\n       google_font(\"Chivo\"),\n       default_fonts()\n     )\n   ) %>%\n   #Change the width of columns\n   cols_width(c(Per.capita.domestic.aviation.CO2) ~ px(150),\n              c(Entity) ~ px(400)) %>% \n   tab_options(\n     #Remove border between column headers and title\n     column_labels.border.top.width = px(3),\n     column_labels.border.top.color = \"transparent\",\n     #Remove border around table\n     table.border.top.color = \"transparent\",\n     table.border.bottom.color = \"transparent\",\n     #Reduce the height of rows\n     data_row.padding = px(3),\n     #Adjust font sizes and alignment\n     source_notes.font.size = 12,\n     heading.align = \"left\"\n   ))\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"ehnluvhhsl\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>@import url(\"https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\nhtml {\n  font-family: Chivo, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#ehnluvhhsl .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: rgba(255, 255, 255, 0);\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: rgba(255, 255, 255, 0);\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#ehnluvhhsl .gt_heading {\n  background-color: #FFFFFF;\n  text-align: left;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ehnluvhhsl .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#ehnluvhhsl .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#ehnluvhhsl .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#ehnluvhhsl .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ehnluvhhsl .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 3px;\n  border-top-color: rgba(255, 255, 255, 0);\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ehnluvhhsl .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#ehnluvhhsl .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#ehnluvhhsl .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#ehnluvhhsl .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#ehnluvhhsl .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#ehnluvhhsl .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#ehnluvhhsl .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ehnluvhhsl .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#ehnluvhhsl .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#ehnluvhhsl .gt_row {\n  padding-top: 3px;\n  padding-bottom: 3px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#ehnluvhhsl .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ehnluvhhsl .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#ehnluvhhsl .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#ehnluvhhsl .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ehnluvhhsl .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#ehnluvhhsl .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#ehnluvhhsl .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ehnluvhhsl .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ehnluvhhsl .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#ehnluvhhsl .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#ehnluvhhsl .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ehnluvhhsl .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ehnluvhhsl .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ehnluvhhsl .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ehnluvhhsl .gt_sourcenote {\n  font-size: 12px;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ehnluvhhsl .gt_left {\n  text-align: left;\n}\n\n#ehnluvhhsl .gt_center {\n  text-align: center;\n}\n\n#ehnluvhhsl .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#ehnluvhhsl .gt_font_normal {\n  font-weight: normal;\n}\n\n#ehnluvhhsl .gt_font_bold {\n  font-weight: bold;\n}\n\n#ehnluvhhsl .gt_font_italic {\n  font-style: italic;\n}\n\n#ehnluvhhsl .gt_super {\n  font-size: 65%;\n}\n\n#ehnluvhhsl .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#ehnluvhhsl .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#ehnluvhhsl .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#ehnluvhhsl .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#ehnluvhhsl .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#ehnluvhhsl .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#ehnluvhhsl .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" style=\"table-layout: fixed;; width: 0px\">\n  <colgroup>\n    <col style=\"width:400px;\"/>\n    <col style=\"width:150px;\"/>\n  </colgroup>\n  <thead class=\"gt_header\">\n    <tr>\n      <td colspan=\"2\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style=\"font-size: 24; font-weight: bold;\">Comparison of per capita CO<sub>2</sub> emissions from domestic aviation (2018)</td>\n    </tr>\n    \n  </thead>\n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: #000000; font-weight: bold;\" scope=\"col\" id=\"Country\">Country</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: #000000; font-weight: bold;\" scope=\"col\" id=\"Per capita emissions (kg)\">Per capita emissions (kg)</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">United States</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #990000; color: #FFFFFF;\">385.52</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">Australia</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #C05C3F; color: #FFFFFF;\">267.17</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">Norway</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #D17C5E; color: #FFFFFF;\">209.23</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">New Zealand</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #DA8F72; color: #FFFFFF;\">174.19</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">Canada</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #DC9275; color: #000000;\">168.27</td></tr>\n    <tr><td headers=\"Entity\" class=\"gt_row gt_left\">Japan</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #F1C6AC; color: #000000;\">73.96</td></tr>\n  </tbody>\n  <tfoot class=\"gt_sourcenotes\">\n    <tr>\n      <td class=\"gt_sourcenote\" colspan=\"2\">Data: Graver, Zhang, &amp; Rutherford (2019) [via Our World in Data]</td>\n    </tr>\n  </tfoot>\n  \n</table>\n</div>\n```\n:::\n:::\n\n\n</br>\n\n## Bonus round 1: Adding images\n\n---\n\nI'm already really happy with this table. It clearly allows a comparison of exact emissions between countries, and the colour provides additional assistance to the reader. We could leave it here, but for a little bonus let's add country flags to our plot. We can use flags sources from wikicommons (a database for with URL locations is available through [data.world](https://data.world/pbi/country-flag-database-from-wikipedia)).\n\nTo link this flag data base to our emissions data we need to translate country names into 3-letter country codes. We can do this using the `countrycode` package. The code for this is not really relevant for using `gt` but you can see it below if you're interested. The end goal is to create a column containing the URL of a flag image for each country.\n\n<details><summary>Details...</summary>\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#To convert country codes\nlibrary(countrycode)\n\nflag_db <- read.csv(\"assets/Country_Flags.csv\") %>% \n  #Convert country names into 3-letter country codes\n  mutate(Code = countrycode(sourcevar = Country, origin = \"country.name\", destination = \"iso3c\", warn = FALSE)) %>% \n  select(Code, flag_URL = ImageURL)\n\nflag_data <- emissions_data %>% \n  left_join(flag_db, by = \"Code\") %>% \n  select(flag_URL, Entity, everything())\n\n#We'll need to refit our table using this new data\n#Code below with comments removed.\nemissions_table <- head(flag_data) %>% \n  gt() %>% \n  cols_hide(columns = c(Code)) %>% \n  cols_label(Entity = \"Country\",\n             Per.capita.domestic.aviation.CO2 = \"Per capita emissions (tonnes)\") %>% \n  tab_header(title = md(\"Comparison of per capita CO<sub>2</sub> emissions from domestic aviation (2018)\")) %>% \n  tab_source_note(source_note = \"Data: Graver, Zhang, & Rutherford (2019) [via Our World in Data]\") %>% \n  fmt_number(columns = c(Per.capita.domestic.aviation.CO2),\n             scale_by = 1000) %>%\n  cols_label(Per.capita.domestic.aviation.CO2 = \"Per capita emissions (kg)\") %>% \n  tab_style(\n     locations = cells_column_labels(columns = everything()),\n     style     = list(\n       cell_borders(sides = \"bottom\", weight = px(3)),\n       cell_text(weight = \"bold\")\n     )\n   ) %>% \n   tab_style(\n     locations = cells_title(groups = \"title\"),\n     style     = list(\n       cell_text(weight = \"bold\", size = 24)\n     )\n   ) %>% \n  data_color(columns = c(Per.capita.domestic.aviation.CO2),\n             colors = emissions_palette) %>% \n  opt_all_caps() %>% \n  opt_table_font(\n    font = list(\n      google_font(\"Chivo\"),\n      default_fonts()\n    )\n  ) %>%\n  cols_width(c(Per.capita.domestic.aviation.CO2) ~ px(150),\n             c(Entity) ~ px(400)) %>% \n  tab_options(\n    column_labels.border.top.width = px(3),\n    column_labels.border.top.color = \"transparent\",\n    table.border.top.color = \"transparent\",\n    table.border.bottom.color = \"transparent\",\n    data_row.padding = px(3),\n    source_notes.font.size = 12,\n    heading.align = \"left\")\n```\n:::\n\n\n</details>\n\n</br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(flag_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                                                                                   flag_URL\n1              https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg\n2 https://upload.wikimedia.org/wikipedia/commons/8/88/Flag_of_Australia_%28converted%29.svg\n3                    https://upload.wikimedia.org/wikipedia/commons/d/d9/Flag_of_Norway.svg\n4               https://upload.wikimedia.org/wikipedia/commons/3/3e/Flag_of_New_Zealand.svg\n5                         https://upload.wikimedia.org/wikipedia/en/c/cf/Flag_of_Canada.svg\n6                          https://upload.wikimedia.org/wikipedia/en/9/9e/Flag_of_Japan.svg\n         Entity Code Per.capita.domestic.aviation.CO2\n1 United States  USA                        0.3855204\n2     Australia  AUS                        0.2671672\n3        Norway  NOR                        0.2092302\n4   New Zealand  NZL                        0.1741885\n5        Canada  CAN                        0.1682674\n6         Japan  JPN                        0.0739585\n```\n:::\n:::\n\n\nWe can now use the `text_transform()` function to add our country flags. `text_transform()` allows us to apply any custom function to a column. We can use the `web_image` function in `gt` to convert a URL to an embedded image.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nemissions_table %>% \n  gt::text_transform(\n    #Apply a function to a column\n    locations = cells_body(c(flag_URL)),\n    fn = function(x) {\n      #Return an image of set dimensions\n      web_image(\n        url = x,\n        height = 12\n      )\n    }\n  ) %>% \n  #Hide column header flag_URL and reduce width\n  cols_width(c(flag_URL) ~ px(30)) %>% \n  cols_label(flag_URL = \"\")\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"sydmmcizrw\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>@import url(\"https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\nhtml {\n  font-family: Chivo, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#sydmmcizrw .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: rgba(255, 255, 255, 0);\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: rgba(255, 255, 255, 0);\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#sydmmcizrw .gt_heading {\n  background-color: #FFFFFF;\n  text-align: left;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#sydmmcizrw .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#sydmmcizrw .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#sydmmcizrw .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#sydmmcizrw .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#sydmmcizrw .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 3px;\n  border-top-color: rgba(255, 255, 255, 0);\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#sydmmcizrw .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#sydmmcizrw .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#sydmmcizrw .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#sydmmcizrw .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#sydmmcizrw .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#sydmmcizrw .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#sydmmcizrw .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#sydmmcizrw .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#sydmmcizrw .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#sydmmcizrw .gt_row {\n  padding-top: 3px;\n  padding-bottom: 3px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#sydmmcizrw .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sydmmcizrw .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#sydmmcizrw .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#sydmmcizrw .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sydmmcizrw .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#sydmmcizrw .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#sydmmcizrw .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#sydmmcizrw .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sydmmcizrw .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#sydmmcizrw .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#sydmmcizrw .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#sydmmcizrw .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#sydmmcizrw .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sydmmcizrw .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#sydmmcizrw .gt_sourcenote {\n  font-size: 12px;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sydmmcizrw .gt_left {\n  text-align: left;\n}\n\n#sydmmcizrw .gt_center {\n  text-align: center;\n}\n\n#sydmmcizrw .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#sydmmcizrw .gt_font_normal {\n  font-weight: normal;\n}\n\n#sydmmcizrw .gt_font_bold {\n  font-weight: bold;\n}\n\n#sydmmcizrw .gt_font_italic {\n  font-style: italic;\n}\n\n#sydmmcizrw .gt_super {\n  font-size: 65%;\n}\n\n#sydmmcizrw .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#sydmmcizrw .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#sydmmcizrw .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#sydmmcizrw .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#sydmmcizrw .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#sydmmcizrw .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#sydmmcizrw .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" style=\"table-layout: fixed;; width: 0px\">\n  <colgroup>\n    <col style=\"width:30px;\"/>\n    <col style=\"width:400px;\"/>\n    <col style=\"width:150px;\"/>\n  </colgroup>\n  <thead class=\"gt_header\">\n    <tr>\n      <td colspan=\"3\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style=\"font-size: 24; font-weight: bold;\">Comparison of per capita CO<sub>2</sub> emissions from domestic aviation (2018)</td>\n    </tr>\n    \n  </thead>\n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: #000000; font-weight: bold;\" scope=\"col\" id=\"\"></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: #000000; font-weight: bold;\" scope=\"col\" id=\"Country\">Country</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: #000000; font-weight: bold;\" scope=\"col\" id=\"Per capita emissions (kg)\">Per capita emissions (kg)</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"flag_URL\" class=\"gt_row gt_left\"><img src=\"https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg\" style=\"height:12px;\"></td>\n<td headers=\"Entity\" class=\"gt_row gt_left\">United States</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #990000; color: #FFFFFF;\">385.52</td></tr>\n    <tr><td headers=\"flag_URL\" class=\"gt_row gt_left\"><img src=\"https://upload.wikimedia.org/wikipedia/commons/8/88/Flag_of_Australia_%28converted%29.svg\" style=\"height:12px;\"></td>\n<td headers=\"Entity\" class=\"gt_row gt_left\">Australia</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #C05C3F; color: #FFFFFF;\">267.17</td></tr>\n    <tr><td headers=\"flag_URL\" class=\"gt_row gt_left\"><img src=\"https://upload.wikimedia.org/wikipedia/commons/d/d9/Flag_of_Norway.svg\" style=\"height:12px;\"></td>\n<td headers=\"Entity\" class=\"gt_row gt_left\">Norway</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #D17C5E; color: #FFFFFF;\">209.23</td></tr>\n    <tr><td headers=\"flag_URL\" class=\"gt_row gt_left\"><img src=\"https://upload.wikimedia.org/wikipedia/commons/3/3e/Flag_of_New_Zealand.svg\" style=\"height:12px;\"></td>\n<td headers=\"Entity\" class=\"gt_row gt_left\">New Zealand</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #DA8F72; color: #FFFFFF;\">174.19</td></tr>\n    <tr><td headers=\"flag_URL\" class=\"gt_row gt_left\"><img src=\"https://upload.wikimedia.org/wikipedia/en/c/cf/Flag_of_Canada.svg\" style=\"height:12px;\"></td>\n<td headers=\"Entity\" class=\"gt_row gt_left\">Canada</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #DC9275; color: #000000;\">168.27</td></tr>\n    <tr><td headers=\"flag_URL\" class=\"gt_row gt_left\"><img src=\"https://upload.wikimedia.org/wikipedia/en/9/9e/Flag_of_Japan.svg\" style=\"height:12px;\"></td>\n<td headers=\"Entity\" class=\"gt_row gt_left\">Japan</td>\n<td headers=\"Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #F1C6AC; color: #000000;\">73.96</td></tr>\n  </tbody>\n  <tfoot class=\"gt_sourcenotes\">\n    <tr>\n      <td class=\"gt_sourcenote\" colspan=\"3\">Data: Graver, Zhang, &amp; Rutherford (2019) [via Our World in Data]</td>\n    </tr>\n  </tfoot>\n  \n</table>\n</div>\n```\n:::\n:::\n\n\n</br>\n\n## Bonus round 2: Within-group comparison\n\n---\n\nIt's pretty clear by now that the US and Australia are the worst for domestic aviation emissions, but what if we wanted to compare within continents. Which country has the highest emissions within Africa or S. America? For this, we can use the row grouping functionality in `gt`.\n\nBefore we can do this, we'll need to assign each country to its corresponding continent. As above, this isn't really `gt` relevant, but the code is included below if you're interested.\n\n<details><summary>Details...</summary>\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncontinent_data <- flag_data %>% \n  #Convert iso3 codes to FIPS\n  mutate(continent = countrycode(sourcevar = Code, origin = \"iso3c\", destination = \"continent\", warn = FALSE)) %>% \n  select(continent, flag_URL, Entity, Per.capita.domestic.aviation.CO2)\n```\n:::\n\n\n</details>\n\n</br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(continent_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  continent\n1  Americas\n2   Oceania\n3    Europe\n4   Oceania\n5  Americas\n6      Asia\n                                                                                   flag_URL\n1              https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg\n2 https://upload.wikimedia.org/wikipedia/commons/8/88/Flag_of_Australia_%28converted%29.svg\n3                    https://upload.wikimedia.org/wikipedia/commons/d/d9/Flag_of_Norway.svg\n4               https://upload.wikimedia.org/wikipedia/commons/3/3e/Flag_of_New_Zealand.svg\n5                         https://upload.wikimedia.org/wikipedia/en/c/cf/Flag_of_Canada.svg\n6                          https://upload.wikimedia.org/wikipedia/en/9/9e/Flag_of_Japan.svg\n         Entity Per.capita.domestic.aviation.CO2\n1 United States                        0.3855204\n2     Australia                        0.2671672\n3        Norway                        0.2092302\n4   New Zealand                        0.1741885\n5        Canada                        0.1682674\n6         Japan                        0.0739585\n```\n:::\n:::\n\n\nIn this case, we need to start from the beginning apply grouping to our table before we begin.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n(emissions_table_continent <- continent_data %>%\n  #Just take the top 5 from each continent for our example\n  group_by(continent) %>% \n  slice(1:5) %>% \n  #Just show Africa and Americas for our example\n  filter(continent %in% c(\"Africa\", \"Americas\")) %>%\n  #Group data by continent\n  gt(groupname_col = \"continent\") %>% \n  #Add flag images as before\n  gt::text_transform(\n    locations = cells_body(c(flag_URL)),\n    fn = function(x) {\n      web_image(\n        url = x,\n        height = 12\n      )\n    }\n  ) %>% \n  cols_width(c(flag_URL) ~ px(30)) %>% \n  cols_label(flag_URL = \"\") %>% \n  #Original changes as above.\n  cols_label(Entity = \"Country\",\n             Per.capita.domestic.aviation.CO2 = \"Per capita emissions (tonnes)\") %>% \n  tab_header(title = md(\"Comparison of per capita CO<sub>2</sub> emissions from domestic aviation (2018)\")) %>% \n  tab_source_note(source_note = \"Data: Graver, Zhang, & Rutherford (2019) [via Our World in Data]\") %>% \n  fmt_number(columns = c(Per.capita.domestic.aviation.CO2),\n             scale_by = 1000) %>%\n  cols_label(Per.capita.domestic.aviation.CO2 = \"Per capita emissions (kg)\") %>% \n  tab_style(\n     locations = cells_column_labels(columns = everything()),\n     style     = list(\n       cell_borders(sides = \"bottom\", weight = px(3)),\n       cell_text(weight = \"bold\")\n     )\n   ) %>% \n   tab_style(\n     locations = cells_title(groups = \"title\"),\n     style     = list(\n       cell_text(weight = \"bold\", size = 24)\n     )\n   ) %>% \n  data_color(columns = c(Per.capita.domestic.aviation.CO2),\n             colors = emissions_palette) %>% \n  opt_all_caps() %>% \n  opt_table_font(\n    font = list(\n      google_font(\"Chivo\"),\n      default_fonts()\n    )\n  ) %>%\n  cols_width(c(Per.capita.domestic.aviation.CO2) ~ px(150),\n             c(Entity) ~ px(400)) %>% \n  tab_options(\n    column_labels.border.top.width = px(3),\n    column_labels.border.top.color = \"transparent\",\n    table.border.top.color = \"transparent\",\n    table.border.bottom.color = \"transparent\",\n    data_row.padding = px(3),\n    source_notes.font.size = 12,\n    heading.align = \"left\",\n    #Adjust grouped rows to make them stand out\n    row_group.background.color = \"grey\"))\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"gnsjxtmqui\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>@import url(\"https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\nhtml {\n  font-family: Chivo, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#gnsjxtmqui .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: rgba(255, 255, 255, 0);\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: rgba(255, 255, 255, 0);\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#gnsjxtmqui .gt_heading {\n  background-color: #FFFFFF;\n  text-align: left;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#gnsjxtmqui .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#gnsjxtmqui .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#gnsjxtmqui .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#gnsjxtmqui .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#gnsjxtmqui .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 3px;\n  border-top-color: rgba(255, 255, 255, 0);\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#gnsjxtmqui .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#gnsjxtmqui .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#gnsjxtmqui .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#gnsjxtmqui .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#gnsjxtmqui .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#gnsjxtmqui .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #BEBEBE;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#gnsjxtmqui .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #BEBEBE;\n  font-size: 80%;\n  font-weight: bolder;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#gnsjxtmqui .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#gnsjxtmqui .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#gnsjxtmqui .gt_row {\n  padding-top: 3px;\n  padding-bottom: 3px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#gnsjxtmqui .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#gnsjxtmqui .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#gnsjxtmqui .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#gnsjxtmqui .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#gnsjxtmqui .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#gnsjxtmqui .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#gnsjxtmqui .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#gnsjxtmqui .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#gnsjxtmqui .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#gnsjxtmqui .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#gnsjxtmqui .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#gnsjxtmqui .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#gnsjxtmqui .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#gnsjxtmqui .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#gnsjxtmqui .gt_sourcenote {\n  font-size: 12px;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#gnsjxtmqui .gt_left {\n  text-align: left;\n}\n\n#gnsjxtmqui .gt_center {\n  text-align: center;\n}\n\n#gnsjxtmqui .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#gnsjxtmqui .gt_font_normal {\n  font-weight: normal;\n}\n\n#gnsjxtmqui .gt_font_bold {\n  font-weight: bold;\n}\n\n#gnsjxtmqui .gt_font_italic {\n  font-style: italic;\n}\n\n#gnsjxtmqui .gt_super {\n  font-size: 65%;\n}\n\n#gnsjxtmqui .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#gnsjxtmqui .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#gnsjxtmqui .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#gnsjxtmqui .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#gnsjxtmqui .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#gnsjxtmqui .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#gnsjxtmqui .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" style=\"table-layout: fixed;; width: 0px\">\n  <colgroup>\n    <col style=\"width:30px;\"/>\n    <col style=\"width:400px;\"/>\n    <col style=\"width:150px;\"/>\n  </colgroup>\n  <thead class=\"gt_header\">\n    <tr>\n      <td colspan=\"3\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style=\"font-size: 24; font-weight: bold;\">Comparison of per capita CO<sub>2</sub> emissions from domestic aviation (2018)</td>\n    </tr>\n    \n  </thead>\n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: #000000; font-weight: bold;\" scope=\"col\" id=\"\"></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: #000000; font-weight: bold;\" scope=\"col\" id=\"Country\">Country</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: #000000; font-weight: bold;\" scope=\"col\" id=\"Per capita emissions (kg)\">Per capita emissions (kg)</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"3\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"Africa\">Africa</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"Africa  flag_URL\" class=\"gt_row gt_left\"><img src=\"https://upload.wikimedia.org/wikipedia/commons/a/af/Flag_of_South_Africa.svg\" style=\"height:12px;\"></td>\n<td headers=\"Africa  Entity\" class=\"gt_row gt_left\">South Africa</td>\n<td headers=\"Africa  Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #FAE2C9; color: #000000;\">25.09</td></tr>\n    <tr><td headers=\"Africa  flag_URL\" class=\"gt_row gt_left\"><img src=\"https://upload.wikimedia.org/wikipedia/commons/0/00/Flag_of_Namibia.svg\" style=\"height:12px;\"></td>\n<td headers=\"Africa  Entity\" class=\"gt_row gt_left\">Namibia</td>\n<td headers=\"Africa  Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #FCE9D2; color: #000000;\">11.49</td></tr>\n    <tr><td headers=\"Africa  flag_URL\" class=\"gt_row gt_left\"><img src=\"https://upload.wikimedia.org/wikipedia/commons/7/77/Flag_of_Mauritius.svg\" style=\"height:12px;\"></td>\n<td headers=\"Africa  Entity\" class=\"gt_row gt_left\">Mauritius</td>\n<td headers=\"Africa  Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #FDEBD4; color: #000000;\">8.75</td></tr>\n    <tr><td headers=\"Africa  flag_URL\" class=\"gt_row gt_left\"><img src=\"https://upload.wikimedia.org/wikipedia/commons/4/49/Flag_of_Kenya.svg\" style=\"height:12px;\"></td>\n<td headers=\"Africa  Entity\" class=\"gt_row gt_left\">Kenya</td>\n<td headers=\"Africa  Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #FDECD5; color: #000000;\">7.10</td></tr>\n    <tr><td headers=\"Africa  flag_URL\" class=\"gt_row gt_left\"><img src=\"https://upload.wikimedia.org/wikipedia/commons/7/77/Flag_of_Algeria.svg\" style=\"height:12px;\"></td>\n<td headers=\"Africa  Entity\" class=\"gt_row gt_left\">Algeria</td>\n<td headers=\"Africa  Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #FDEDD6; color: #000000;\">4.43</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"3\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"Americas\">Americas</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"Americas  flag_URL\" class=\"gt_row gt_left\"><img src=\"https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg\" style=\"height:12px;\"></td>\n<td headers=\"Americas  Entity\" class=\"gt_row gt_left\">United States</td>\n<td headers=\"Americas  Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #990000; color: #FFFFFF;\">385.52</td></tr>\n    <tr><td headers=\"Americas  flag_URL\" class=\"gt_row gt_left\"><img src=\"https://upload.wikimedia.org/wikipedia/en/c/cf/Flag_of_Canada.svg\" style=\"height:12px;\"></td>\n<td headers=\"Americas  Entity\" class=\"gt_row gt_left\">Canada</td>\n<td headers=\"Americas  Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #DC9275; color: #000000;\">168.27</td></tr>\n    <tr><td headers=\"Americas  flag_URL\" class=\"gt_row gt_left\"><img src=\"https://upload.wikimedia.org/wikipedia/commons/7/78/Flag_of_Chile.svg\" style=\"height:12px;\"></td>\n<td headers=\"Americas  Entity\" class=\"gt_row gt_left\">Chile</td>\n<td headers=\"Americas  Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #F2C8AE; color: #000000;\">70.46</td></tr>\n    <tr><td headers=\"Americas  flag_URL\" class=\"gt_row gt_left\"><img src=\"https://upload.wikimedia.org/wikipedia/en/0/05/Flag_of_Brazil.svg\" style=\"height:12px;\"></td>\n<td headers=\"Americas  Entity\" class=\"gt_row gt_left\">Brazil</td>\n<td headers=\"Americas  Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #F7D8BF; color: #000000;\">42.86</td></tr>\n    <tr><td headers=\"Americas  flag_URL\" class=\"gt_row gt_left\"><img src=\"https://upload.wikimedia.org/wikipedia/commons/f/fc/Flag_of_Mexico.svg\" style=\"height:12px;\"></td>\n<td headers=\"Americas  Entity\" class=\"gt_row gt_left\">Mexico</td>\n<td headers=\"Americas  Per.capita.domestic.aviation.CO2\" class=\"gt_row gt_right\" style=\"background-color: #F7D9C0; color: #000000;\">39.93</td></tr>\n  </tbody>\n  <tfoot class=\"gt_sourcenotes\">\n    <tr>\n      <td class=\"gt_sourcenote\" colspan=\"3\">Data: Graver, Zhang, &amp; Rutherford (2019) [via Our World in Data]</td>\n    </tr>\n  </tfoot>\n  \n</table>\n</div>\n```\n:::\n:::\n\n\n</br>\n\n## The Conclusion: Tables can be nice!\n\n---\n\nA package like `gt` really unlocks the power of a table to display data. Using a combination of style and colour it's easy to create a clear output that allows a reader to compare individual values. More over, we have the potential to easily include neat additions such as embedded images or graphs. The one draw back of `gt` is that it only generates static tables, to build interactive tables with filters or tabs we will need to move into other packages like `reactable`. Still, it's a fun tool to add to the data visualisation toolbox of anybody working in R.",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}